!function(e){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=e();else if("function"==typeof define&&define.amd)define([],e);else{var f;"undefined"!=typeof window?f=window:"undefined"!=typeof global?f=global:"undefined"!=typeof self&&(f=self),f.kontact=e()}}(function(){var define,module,exports;return function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require=="function"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error("Cannot find module '"+o+"'");throw f.code="MODULE_NOT_FOUND",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require=="function"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s}({1:[function(require,module,exports){"use strict";var atomic=require("atomic/src/atomic.js")(window);var serialize=require("form-serialize");var kontact=function(form,cb){var url=form.getAttribute("action");var fn=function(e){e.preventDefault();atomic.post(url,"json="+JSON.stringify(serialize(form,true))).success(function(data){cb(data.err,data.data)}).error(function(){cb(1)})};if(form.addEventListener){form.addEventListener("submit",fn,false)}else{if(form.attachEvent){form.attachEvent("onsubmit",fn)}}};module.exports=exports=kontact},{"atomic/src/atomic.js":2,"form-serialize":3}],2:[function(require,module,exports){(function(root,factory){if(typeof define==="function"&&define.amd){define(factory)}else if(typeof exports==="object"){module.exports=factory}else{root.atomic=factory(root)}})(this,function(root){"use strict";var exports={};var parse=function(req){var result;try{result=JSON.parse(req.responseText)}catch(e){result=req.responseText}return[result,req]};var xhr=function(type,url,data){var methods={success:function(){},error:function(){}};var XHR=root.XMLHttpRequest||ActiveXObject;var request=new XHR("MSXML2.XMLHTTP.3.0");request.open(type,url,true);request.setRequestHeader("Content-type","application/x-www-form-urlencoded");request.onreadystatechange=function(){if(request.readyState===4){if(request.status>=200&&request.status<300){methods.success.apply(methods,parse(request))}else{methods.error.apply(methods,parse(request))}}};request.send(data);var callbacks={success:function(callback){methods.success=callback;return callbacks},error:function(callback){methods.error=callback;return callbacks}};return callbacks};exports["get"]=function(src){return xhr("GET",src)};exports["put"]=function(url,data){return xhr("PUT",url,data)};exports["post"]=function(url,data){return xhr("POST",url,data)};exports["delete"]=function(url){return xhr("DELETE",url)};return exports})},{}],3:[function(require,module,exports){var k_r_submitter=/^(?:submit|button|image|reset|file)$/i;var k_r_success_contrls=/^(?:input|select|textarea|keygen)/i;var brackets_regex=/\[(.+?)\]/g;var brackeks_prefix_regex=/^(.+?)\[/;function serialize(form,options){if(typeof options!="object"){options={hash:!!options}}else if(options.hash===undefined){options.hash=true}var result=options.hash?{}:"";var serializer=options.serializer||options.hash?hash_serializer:str_serialize;var elements=form.elements||[];for(var i=0;i<elements.length;++i){var element=elements[i];if(!options.disabled&&element.disabled||!element.name){continue}if(!k_r_success_contrls.test(element.nodeName)||k_r_submitter.test(element.type)){continue}var key=element.name;var val=element.value;if((element.type==="checkbox"||element.type==="radio")&&!element.checked){val=undefined}if(!val){continue}if(element.type==="select-multiple"){val=[];var options=element.options;for(var i=0;i<options.length;++i){var option=options[i];if(option.selected){result=serializer(result,key,option.value)}}continue}result=serializer(result,key,val)}return result}function hash_serializer(result,key,value){if(key in result){var existing=result[key];if(!Array.isArray(existing)){result[key]=[existing]}result[key].push(value)}else{if(has_brackets(key)){extract_from_brackets(result,key,value)}else{result[key]=value}}return result}function str_serialize(result,key,value){value=value.replace(/(\r)?\n/g,"\r\n");value=encodeURIComponent(value);value=value.replace(/%20/g,"+");return result+(result?"&":"")+encodeURIComponent(key)+"="+value}function has_brackets(string){return string.match(brackets_regex)}function matches_between_brackets(string){var regex=new RegExp(brackets_regex);var matches=[];var match;while(match=regex.exec(string)){matches.push(match[1])}return matches}function extract_from_brackets(result,key,value){var prefix=key.match(brackeks_prefix_regex)[1];if(!result[prefix])result[prefix]={};var parent=result[prefix];var matches_between=matches_between_brackets(key);var length=matches_between.length;for(var i=0;i<length;i++){var child=matches_between[i];var isLast=length===i+1;if(isLast){var existing=parent[child];if(existing){if(!Array.isArray(existing)){parent[child]=[existing]}parent[child].push(value)}else{parent[child]=value}}else{parent[child]={};parent=parent[child]}}parent=value}module.exports=serialize},{}]},{},[1])(1)});